<!doctype html>
<!--
  Minimal Mistakes Jekyll Theme 4.24.0 by Michael Rose
  Copyright 2013-2020 Michael Rose - mademistakes.com | @mmistakes
  Free for personal and commercial use under the MIT license
  https://github.com/mmistakes/minimal-mistakes/blob/master/LICENSE
-->
<html lang="en" class="no-js">
  <head>
    <meta charset="utf-8">

<!-- begin _includes/seo.html --><title>Notes on using git | Ben Purinton</title>
<meta name="description" content="I’m currently going through the extremely helpful thoughtbot git tutorial. I want to leave some notes here for future reference.">


  <meta name="author" content="Ben Purinton">
  
  <meta property="article:author" content="Ben Purinton">
  


<meta property="og:type" content="article">
<meta property="og:locale" content="en_US">
<meta property="og:site_name" content="Ben Purinton">
<meta property="og:title" content="Notes on using git">
<meta property="og:url" content="http://localhost:4000/notes-on-git/">


  <meta property="og:description" content="I’m currently going through the extremely helpful thoughtbot git tutorial. I want to leave some notes here for future reference.">







  <meta property="article:published_time" content="2023-03-18T00:00:00-07:00">





  

  


<link rel="canonical" href="http://localhost:4000/notes-on-git/">




<script type="application/ld+json">
  {
    "@context": "https://schema.org",
    
      "@type": "Person",
      "name": "Ben Purinton",
      "url": "http://localhost:4000/"
    
  }
</script>







<!-- end _includes/seo.html -->



  <link href="/feed.xml" type="application/atom+xml" rel="alternate" title="Ben Purinton Feed">


<!-- https://t.co/dKP3o1e -->
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<script>
  document.documentElement.className = document.documentElement.className.replace(/\bno-js\b/g, '') + ' js ';
</script>

<!-- For all browsers -->
<link rel="stylesheet" href="/assets/css/main.css">
<link rel="preload" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5/css/all.min.css" as="style" onload="this.onload=null;this.rel='stylesheet'">
<noscript><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5/css/all.min.css"></noscript>



    <!-- start custom head snippets -->

<!-- insert favicons. use https://realfavicongenerator.net/ -->

<!-- end custom head snippets -->

<link rel="icon" type="image/png" sizes="32x32" href="/assets/images/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="/assets/images/favicon-16x16.png">
<!-- <link rel="icon" type="image/x-icon" href="/assets/images/favicon-test.ico"> -->
  </head>

  <body class="layout--single">
    <nav class="skip-links">
  <ul>
    <li><a href="#site-nav" class="screen-reader-shortcut">Skip to primary navigation</a></li>
    <li><a href="#main" class="screen-reader-shortcut">Skip to content</a></li>
    <li><a href="#footer" class="screen-reader-shortcut">Skip to footer</a></li>
  </ul>
</nav>

    

<div class="masthead">
  <div class="masthead__inner-wrap">
    <div class="masthead__menu">
      <nav id="site-nav" class="greedy-nav">
        
        <a class="site-title" href="/">
          Ben Purinton
          
        </a>
        <ul class="visible-links"><li class="masthead__menu-item">
              <a href="/">About</a>
            </li><li class="masthead__menu-item">
              <a href="/research/">Research</a>
            </li><li class="masthead__menu-item">
              <a href="/publications/">Publications</a>
            </li><li class="masthead__menu-item">
              <a href="/cv/">CV</a>
            </li><li class="masthead__menu-item">
              <a href="/blog/">Blog</a>
            </li></ul>
        
        <button class="search__toggle" type="button">
          <span class="visually-hidden">Toggle search</span>
          <i class="fas fa-search"></i>
        </button>
        
        <button class="greedy-nav__toggle hidden" type="button">
          <span class="visually-hidden">Toggle menu</span>
          <div class="navicon"></div>
        </button>
        <ul class="hidden-links hidden"></ul>
      </nav>
    </div>
  </div>
</div>


    <div class="initial-content">
      





<div id="main" role="main">
  
  <div class="sidebar sticky">
  


<div itemscope itemtype="https://schema.org/Person" class="h-card">

  
    <div class="author__avatar">
      <a href="http://localhost:4000/">
        <img src="/assets/images/purinton_profile_photo.jpg" alt="Ben Purinton" itemprop="image" class="u-photo">
      </a>
    </div>
  

  <div class="author__content">
    <h3 class="author__name p-name" itemprop="name">
      <a class="u-url" rel="me" href="http://localhost:4000/" itemprop="url">Ben Purinton</a>
    </h3>
    
      <div class="author__bio p-note" itemprop="description">
        <p>Howdy. I like dirt :) And computer coding.</p>

      </div>
    
  </div>

  <div class="author__urls-wrapper">
    <button class="btn btn--inverse">Follow</button>
    <ul class="author__urls social-icons">
      
        <li itemprop="homeLocation" itemscope itemtype="https://schema.org/Place">
          <i class="fas fa-fw fa-map-marker-alt" aria-hidden="true"></i> <span itemprop="name" class="p-locality">Seattle, Washington</span>
        </li>
      

      
        
          
            <li><a href="mailto:ben.purinton@gmail.com" rel="nofollow noopener noreferrer me"><i class="fas fa-fw fa-envelope-square" aria-hidden="true"></i><span class="label">Email</span></a></li>
          
        
          
        
          
        
          
        
          
            <li><a href="https://github.com/bpurinton" rel="nofollow noopener noreferrer me" itemprop="sameAs"><i class="fab fa-fw fa-github" aria-hidden="true"></i><span class="label">GitHub</span></a></li>
          
        
          
            <li><a href="https://instagram.com/dirt_facts" rel="nofollow noopener noreferrer me" itemprop="sameAs"><i class="fab fa-fw fa-instagram" aria-hidden="true"></i><span class="label">Instagram</span></a></li>
          
        
          
            <li><a href="https://www.linkedin.com/in/benjamin-purinton-3137905a/" rel="nofollow noopener noreferrer me" itemprop="sameAs"><i class="fab fa-fw fa-linkedin" aria-hidden="true"></i><span class="label">Linkedin</span></a></li>
          
        
      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      <!--
  <li>
    <a href="http://link-to-whatever-social-network.com/user/" itemprop="sameAs" rel="nofollow noopener noreferrer me">
      <i class="fas fa-fw" aria-hidden="true"></i> Custom Social Profile Link
    </a>
  </li>
-->
    </ul>
  </div>
</div>

  
  </div>



  <article class="page h-entry" itemscope itemtype="https://schema.org/CreativeWork">
    <meta itemprop="headline" content="Notes on using git">
    <meta itemprop="description" content="I’m currently going through the extremely helpful thoughtbot git tutorial. I want to leave some notes here for future reference.">
    <meta itemprop="datePublished" content="2023-03-18T00:00:00-07:00">
    

    <div class="page__inner-wrap">
      
        <header>
          <h1 id="page-title" class="page__title p-name" itemprop="headline">
            <a href="http://localhost:4000/notes-on-git/" class="u-url" itemprop="url">Notes on using git
</a>
          </h1>
          

  <p class="page__meta">
    
      
      <span class="page__meta-date">
        <i class="far fa-calendar-alt" aria-hidden="true"></i>
        
        <time datetime="2023-03-18T00:00:00-07:00">March 18, 2023</time>
      </span>
    

    <span class="page__meta-sep"></span>

    
      
      

      <span class="page__meta-readtime">
        <i class="far fa-clock" aria-hidden="true"></i>
        
          10 minute read
        
      </span>
    
  </p>


        </header>
      

      <section class="page__content e-content" itemprop="text">
        
          <aside class="sidebar__right sticky">
            <nav class="toc">
              <header><h4 class="nav__title"><i class="fas fa-file-alt"></i> Content</h4></header>
              <ul class="toc__menu"><li><a href="#git-aliases">Git Aliases</a></li><li><a href="#getting-confident">Getting Confident</a><ul><li><a href="#git-context-at-prompt">Git Context at prompt</a></li><li><a href="#git-stash">Git Stash</a></li><li><a href="#reflog">Reflog</a><ul><li><a href="#note-on-colors">Note on colors</a></li></ul></li><li><a href="#reset---hard-with-reflog">reset --hard with reflog</a></li></ul></li><li><a href="#viewing-history">Viewing history</a><ul><li><a href="#the-git-graph">The git graph</a></li></ul></li><li><a href="#undoing">Undoing</a><ul><li><a href="#ammend-commit">Ammend commit</a></li><li><a href="#unstage-a-file">Unstage a file</a></li><li><a href="#a-dangerous-checkout">A dangerous checkout</a></li><li><a href="#reset---soft-to-undo-a-commit">reset --soft to undo a commit</a></li><li><a href="#steps-to-completely-backout-of-a-commit">Steps to completely backout of a commit</a></li></ul></li><li><a href="#crafting-history-with-rebase">Crafting history with rebase</a><ul><li><a href="#patch-and-cherry-pick">patch and cherry-pick</a></li><li><a href="#rebase">rebase</a></li><li><a href="#interactive-rebase">Interactive rebase</a></li></ul></li><li><a href="#merging-to-main">Merging to main</a></li></ul>

            </nav>
          </aside>
        
        <p>I’m currently going through the <em>extremely</em> helpful <a href="https://thoughtbot.com/upcase/videos/git-getting-to-confident" target="_blank">thoughtbot git tutorial</a>. I want to leave some notes here for future reference.</p>

<h1 id="git-aliases">Git Aliases</h1>

<p>Before I get into the notes, here’s a bit about <code class="language-plaintext highlighter-rouge">.gitconfig</code>. This dot file is found in two locations:</p>

<ul>
  <li><code class="language-plaintext highlighter-rouge">~/.gitconfig</code>: the home directory for my terminal, where the <code class="language-plaintext highlighter-rouge">global</code> options are set</li>
  <li><code class="language-plaintext highlighter-rouge">git-project-directory/.git/.config</code>: the <code class="language-plaintext highlighter-rouge">.git/</code> directory of a git repo, where the <code class="language-plaintext highlighter-rouge">local</code> options are set</li>
</ul>

<p>You can add aliases and other things to the <code class="language-plaintext highlighter-rouge">global</code> or <code class="language-plaintext highlighter-rouge">local</code> configuration using the command line syntax</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>git config <span class="nt">--global</span> alias.p push
</code></pre></div></div>

<p>or (for a longer one):</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>git config <span class="nt">--global</span> alias.as <span class="s2">"!git add -A &amp;&amp; git stash"</span>
</code></pre></div></div>

<p>Do a <code class="language-plaintext highlighter-rouge">more ~/.gitconfig</code> to view the changes, or even add more complex ones by opening the file in an editor.</p>

<p>At any time, I can remind myself what an alias is actually doing by running, e.g.:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>git <span class="nb">help </span>as
</code></pre></div></div>

<h1 id="getting-confident">Getting Confident</h1>

<p>The <a href="https://thoughtbot.com/upcase/videos/git-getting-to-confident" target="_blank">first video</a> covers some basics to get us feeling comfortable.</p>

<p>It starts by introducing the look of the git command line.</p>

<h2 id="git-context-at-prompt">Git Context at prompt</h2>

<p>A good terminal prompt will show:</p>

<ul>
  <li>whether you are in a git repo</li>
  <li>what branch you are on in that git repo</li>
  <li>a “dirty” status symbol if there are changed and un-committed</li>
</ul>

<p>I use <a href="https://iterm2.com/" target="_blank">iTerm2</a> combined with <a href="https://ohmyz.sh/" target="_blank">oh my zsh</a>, which gives my terminal a great look and feel:</p>

<p><img src="/assets/images/git-command-line-look.png" alt="" /></p>

<p>The branch is <code class="language-plaintext highlighter-rouge">(main)</code> and there’s a little <code class="language-plaintext highlighter-rouge">x</code> symbol next to the prompt when I have un-committed files.</p>

<h2 id="git-stash">Git Stash</h2>

<p><code class="language-plaintext highlighter-rouge">git stash</code> is the command to “stash” any changes since the last commit that you might want, or might not, and you just want to save them somewhere. Eventually the stash is deleted so this is just a temporary holding area.</p>

<p>I have the alias <code class="language-plaintext highlighter-rouge">git as</code> setup, which first adds all untracked files and then stashes them (stash only takes tracked files by default).</p>

<h2 id="reflog">Reflog</h2>

<p>The <code class="language-plaintext highlighter-rouge">git reflog</code> command is great, it lists every command we ran in a repo that changed what we have checked out: every <code class="language-plaintext highlighter-rouge">commit</code>, <code class="language-plaintext highlighter-rouge">branch</code>, <code class="language-plaintext highlighter-rouge">rebase</code>, etc.</p>

<p>Writing:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>git reflog branch-name
</code></pre></div></div>

<p>shows us just the actions on that specific branch:</p>

<p><img src="/assets/images/git-reflog-main.png" alt="" /></p>

<h3 id="note-on-colors">Note on colors</h3>

<ul>
  <li><strong>yellow = commit hash</strong>; this is the identifier for this state of the code</li>
  <li><strong>blue = HEAD</strong>; this indicates where I am currently checked out with the <code class="language-plaintext highlighter-rouge">-&gt;</code> symbol pointing at a local or remote branch that I am currently on</li>
  <li><strong>green = local branch</strong>; this is a branch on my local machine</li>
  <li><strong>red = remote branch</strong>; this is branch on Github</li>
  <li><strong>black = command or commit message</strong>; this is the text describing what the line refers to</li>
</ul>

<h2 id="reset---hard-with-reflog"><code class="language-plaintext highlighter-rouge">reset --hard</code> with reflog</h2>

<p>I can use the reflog to reset my code to any previous state! This command moves the <code class="language-plaintext highlighter-rouge">HEAD</code> pointer to some previous commit with the hash <code class="language-plaintext highlighter-rouge">9454622</code>:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>git reset <span class="nt">--hard</span> 9454622
</code></pre></div></div>

<p>With that powerful command, we don’t need to worry about messing things up!</p>

<h1 id="viewing-history">Viewing history</h1>

<p>The <a href="https://thoughtbot.com/upcase/videos/git-managing-history" target="_blank">second video</a> covers how we view the history. There’s a bunch of things in there about viewing granular details of file changes and searching the history with <code class="language-plaintext highlighter-rouge">grep</code>. Good to know, but here are just a few important commands.</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>git log
</code></pre></div></div>

<p>or</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>git log <span class="nt">--oneline</span> <span class="nt">--decorate</span>
</code></pre></div></div>

<p>To view a linear history of the repository. I have this aliased as <code class="language-plaintext highlighter-rouge">git sl</code>.</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>git log <span class="nt">--pretty</span><span class="o">=</span>format:<span class="s1">'%C(yellow)%h%C(reset) - %an [%C(green)%ar%C(reset)] %s'</span>
</code></pre></div></div>

<p>To view the commits, who made them, when they made them (in green), and the one line summary. I have this aliased as <code class="language-plaintext highlighter-rouge">git pl</code>.</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>git show 0302t5
</code></pre></div></div>

<p>To show the commit information and a <code class="language-plaintext highlighter-rouge">git diff</code> of the changed files.</p>

<h2 id="the-git-graph">The git graph</h2>

<p>This is important but confusing at time. <a href="#note-on-colors">Recall the color notes</a>.</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>git log <span class="nt">--oneline</span> <span class="nt">--decorate</span> <span class="nt">--graph</span> <span class="nt">--all</span>
</code></pre></div></div>

<p>To view a graph showing the relation between branches. I have this aliased as <code class="language-plaintext highlighter-rouge">git sla</code>.</p>

<p><img src="/assets/images/git-sla-graph.png" alt="" /></p>

<p><a href="https://stackoverflow.com/questions/5382255/how-to-read-git-log-graph" target="_blank">Here is a good SO answer on how to read the graph</a>. Some notes:</p>

<ul>
  <li>The top is the most recent, the bottom is the oldest</li>
  <li>Branches are <code class="language-plaintext highlighter-rouge">|</code> vertical lines</li>
  <li>The <code class="language-plaintext highlighter-rouge">*</code> tells you which branch the commit is referring to.</li>
  <li>Where two branches come together or converge (i.e.: <code class="language-plaintext highlighter-rouge">|\</code>), that’s a merge. Where they split or diverge (i.e.: <code class="language-plaintext highlighter-rouge">|/</code>), that’s where the branch was created/taken off of.</li>
  <li>Therefore, to read the development of a branch, start with where it splits off, read the log entries for any lines corresponding to a <code class="language-plaintext highlighter-rouge">*</code> in that branch’s vertical line, and follow it until it merges again. Note that not every log entry will be relevant, only those with a <code class="language-plaintext highlighter-rouge">*</code> on the branch in question. Sometimes branches are taken from far back, which means they have to ‘jump over’ a lot of commits when they’re merged.</li>
</ul>

<h1 id="undoing">Undoing</h1>

<p>The <a href="https://thoughtbot.com/upcase/videos/git-undoing" target="_blank">third video</a> covers how we undo mistakes.</p>

<p>My main takeaway here, is that we can use <code class="language-plaintext highlighter-rouge">git add file-name</code> to add an unstaged file and then add that file to the previous commit (where maybe we left it out accidentally) with:</p>

<h2 id="ammend-commit">Ammend commit</h2>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>git commit <span class="nt">--amend</span> <span class="nt">--no-edit</span>
</code></pre></div></div>

<p>or</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>git commit <span class="nt">--amend</span>
</code></pre></div></div>

<p>which will allow us to actually edit the previous commit message.</p>

<h2 id="unstage-a-file">Unstage a file</h2>

<p>We can also <strong>un-stage</strong> a file (maybe because it doesn’t make sense to include with the commit because it is unrelated to the other files!) with:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>git reset file-name
</code></pre></div></div>

<p>I have this aliased to <code class="language-plaintext highlighter-rouge">git unstage</code>, because that name makes more sense.</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>git status
</code></pre></div></div>

<p>is a command you should run a lot to double check what you’re doing:</p>

<p><img src="/assets/images/git-stage-unstage.png" alt="" /></p>

<h2 id="a-dangerous-checkout">A dangerous checkout</h2>

<p><strong>A dangerous command is</strong>:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>git checkout <span class="nb">.</span>
</code></pre></div></div>

<p>This will back out all of your changes and reset you to the previous commit. If you haven’t staged or committed the changed files, this will <strong>destroy them</strong>.</p>

<h2 id="reset---soft-to-undo-a-commit"><code class="language-plaintext highlighter-rouge">reset --soft</code> to undo a commit</h2>

<p>We can remove a commit from our history and reset the files to their staged state with all of the changes we made with:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>git reset <span class="nt">--soft</span> HEAD^
</code></pre></div></div>

<ul>
  <li><code class="language-plaintext highlighter-rouge">HEAD</code> refers to the current branch that you are checked out on</li>
  <li><code class="language-plaintext highlighter-rouge">^</code> means one commit back (the “parent”)</li>
  <li><code class="language-plaintext highlighter-rouge">soft</code> means leave the files in the working directory and index untouched</li>
</ul>

<p>Then we could add some more changes to the files and commit again. I have this useful command aliased as <code class="language-plaintext highlighter-rouge">git uncommit</code>.</p>

<h2 id="steps-to-completely-backout-of-a-commit">Steps to completely backout of a commit</h2>

<p>First <code class="language-plaintext highlighter-rouge">git uncommit</code> to re-stage the files, but undo the commit. Then <code class="language-plaintext highlighter-rouge">git unstage</code> (optionally providing a filename we want to unstage, or taking them all by default), to unstage the files. Then, the <em>dangerous</em> <code class="language-plaintext highlighter-rouge">git checkout .</code>, which will completely reset our code and history to how it looked before our most recent edits and commit.</p>

<h1 id="crafting-history-with-rebase">Crafting history with rebase</h1>

<p>The <a href="https://thoughtbot.com/upcase/videos/git-crafting-history" target="_blank">fourth video</a> covers <code class="language-plaintext highlighter-rouge">rebase</code>. There’s a lot in there, but these are some notes on my important takeaways.</p>

<p>The way we want to be working is via commits on a local feature branch, then a merge to main when it’s ready.</p>

<h2 id="patch-and-cherry-pick"><code class="language-plaintext highlighter-rouge">patch</code> and <code class="language-plaintext highlighter-rouge">cherry-pick</code></h2>

<p>We use <code class="language-plaintext highlighter-rouge">git add --patch</code> (rather than <code class="language-plaintext highlighter-rouge">git add .</code>) to selectively stage granular changes <em>within</em> files that we change. This will lead to a partially staged and unstaged file. We can commit, then stage again, then commit again, which will break up the commit based on how we selectively staged with <code class="language-plaintext highlighter-rouge">--patch</code>.</p>

<p>We use <code class="language-plaintext highlighter-rouge">git diff</code> to view the file difference in unstaged changes, or <code class="language-plaintext highlighter-rouge">git diff --cached</code> for the staged changes.</p>

<p>If we accidentally commited to <code class="language-plaintext highlighter-rouge">main</code> when we meant to be on a feature branch, we can use:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>git diff 23532..12352
</code></pre></div></div>

<p>This will show differences in the files in the <strong>range</strong> specified between the two hashes with the <code class="language-plaintext highlighter-rouge">..</code> notation. We use that to check which commits we want to move.</p>

<p>We can then checkout the feature branch: <code class="language-plaintext highlighter-rouge">git checkout feature-branch</code> and run:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>git cherry-pick 23532..12352
</code></pre></div></div>

<p>This will move all the specified commits (we can also just pass a single commit rather than a range) to the feature branch. This will create new commits on the branch, it doesn’t just pick them up and move them. So we will still see those commits in <code class="language-plaintext highlighter-rouge">main</code>’s history. But, we know how to reset <code class="language-plaintext highlighter-rouge">main</code> and cleanup the history <a href="#reset---hard-with-reflog">with a hard reset.</a></p>

<h2 id="rebase"><code class="language-plaintext highlighter-rouge">rebase</code></h2>

<p>A <code class="language-plaintext highlighter-rouge">rebase</code> is pretty much identical to the <code class="language-plaintext highlighter-rouge">cherry-pick</code> workflow! In this case, we have some stuff (commits) on <code class="language-plaintext highlighter-rouge">main</code> and we want to move them into the <code class="language-plaintext highlighter-rouge">feature-branch</code>.</p>

<p><img src="/assets/images/git-rebase-01.png" alt="" /></p>

<p>Here, I have the commit <code class="language-plaintext highlighter-rouge">7ea8c45</code> on my local (it’s green) <code class="language-plaintext highlighter-rouge">main</code> branch, but I want to move this commit and the changes associated with it into my <code class="language-plaintext highlighter-rouge">new-git-post</code> branch.</p>

<p>The first step is to checkout the feature branch. In my example, I have checked out becuase <code class="language-plaintext highlighter-rouge">HEAD -&gt; new-git-post</code>.</p>

<p>With <code class="language-plaintext highlighter-rouge">rebase</code>, we want to take the work we’ve done on our feature branch (which was <code class="language-plaintext highlighter-rouge">new-git-post</code> here), and reapply it as if it was done on top of the additional commits in our target branch (which was <code class="language-plaintext highlighter-rouge">main</code> here).</p>

<p>Now, I’m going to make couple changes to <code class="language-plaintext highlighter-rouge">new-git-post</code>. Then I realize, oh, I actually would also like the change on the <code class="language-plaintext highlighter-rouge">main</code> branch.</p>

<p><img src="/assets/images/git-rebase-02.png" alt="" /></p>

<p>So we have <code class="language-plaintext highlighter-rouge">b07c153</code> to <code class="language-plaintext highlighter-rouge">3619d72</code>, which are the commits on the feature branch that I’m checked out on, and <code class="language-plaintext highlighter-rouge">7ea8c45</code>, which was the commit on <code class="language-plaintext highlighter-rouge">main</code> that I want in the currently checked out feature branch. Now I can run:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>git rebase main
</code></pre></div></div>

<p>And the resulting history:</p>

<p><img src="/assets/images/git-rebase-03.png" alt="" /></p>

<p>We see that the commit hashes have changed, but now the history appears that the current feature branch is a continuation of main, including the <code class="language-plaintext highlighter-rouge">7ea8c45</code> commit that we wanted to grab.</p>

<h2 id="interactive-rebase">Interactive <code class="language-plaintext highlighter-rouge">rebase</code></h2>

<p>When we want to really craft the history and make the changes clear (like when we’re getting ready to merge to main), then we want to use <code class="language-plaintext highlighter-rouge">rebase -i</code> for interactive rebasing.</p>

<p>This won’t move commits, but rather revises commits <em>in place</em>. We use it to combine or squash commits.</p>

<p><strong>We never want to revise the history like this on <code class="language-plaintext highlighter-rouge">main</code>, but we do want to revise the history of feature branches before merging them to <code class="language-plaintext highlighter-rouge">main</code></strong></p>

<p>Let’s say we wanted to take the top few commits and <code class="language-plaintext highlighter-rouge">s</code>quash them down into one commit. We would do</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>git rebase main <span class="nt">-i</span>
</code></pre></div></div>

<p>This would allow me to craft a commit history by <code class="language-plaintext highlighter-rouge">s</code>quashing all the commits except for one that I <code class="language-plaintext highlighter-rouge">p</code>ick (the top-most in the editor). <code class="language-plaintext highlighter-rouge">p</code>icking multiple is almost never worth it (or, alternatively, it means your branches are too long lived).</p>

<p>When I run the command, an editor pops up:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>pick bf9674d WIP on new git post
pick 46c743f added rebase-01 image and WIP
pick 473aea8 WIP on post
pick 27cd357 more WIP
pick 22d9e46 added more images and continued WIP
pick 0afae16 WIP on interactive rebase
pick d105127 WIP
</code></pre></div></div>

<p>I edit that to look like:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>pick bf9674d WIP on new git post
s 46c743f added rebase-01 image and WIP
s 473aea8 WIP on post
s 27cd357 more WIP
s 22d9e46 added more images and continued WIP
s 0afae16 WIP on interactive rebase
s d105127 WIP
</code></pre></div></div>

<p>This will <code class="language-plaintext highlighter-rouge">s</code>quash the subsequent commits after the first commit on the branch (top-most in the editor) down into the first commit. We could <code class="language-plaintext highlighter-rouge">p</code>ick others if there were important ones that stood out.</p>

<p>We get another editor when we close the file, where we wrote a longer description with all of the information about what happened up to the current point in time after the first commit that we <code class="language-plaintext highlighter-rouge">p</code>icked:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>I<span class="s1">'m just squashing some commits to demonstrate
how to interactively rebase.

# This is a combination of 7 commits.
# This is the 1st commit message:

WIP on new git post

# This is the commit message #2:

added rebase-01 image and WIP
</span></code></pre></div></div>

<p>(Note: we could have even deleted all of the commit messages from each individual commit below this note we added.)</p>

<p>And when we close that, our history might look something like:</p>

<p><img src="/assets/images/git-rebase-04.png" alt="" /></p>

<p>And we could continue working on our branch. <strong>But usually, these would be the steps just before we merge to main to create a cleaner history.</strong></p>

<p><strong>Interactive rebasing does not modify the code, it just modifies the commit history!</strong></p>

<h1 id="merging-to-main">Merging to main</h1>

<p>This isn’t in the videos, but just references one of the <a href="https://www.bendirt.com/merging-feature-branch/" target="_blank">other posts on my blog</a>. When the interactive rebase is done, and the history is cleaned, and we’re ready to merge to main, we can run:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>git checkout main
git merge feature-branch
git push
</code></pre></div></div>

<p>And we can even delete the feature branch with</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>git branch <span class="nt">-d</span> feature-branch
</code></pre></div></div>

        
      </section>

      <footer class="page__meta">
        
        
  


  

  <p class="page__taxonomy">
    <strong><i class="fas fa-fw fa-tags" aria-hidden="true"></i> Tags: </strong>
    <span itemprop="keywords">
    
      <a href="/tags/#git" class="page__taxonomy-item p-category" rel="tag">git</a>
    
    </span>
  </p>




        

  <p class="page__date"><strong><i class="fas fa-fw fa-calendar-alt" aria-hidden="true"></i> Updated:</strong> <time class="dt-published" datetime="2023-03-18T00:00:00-07:00">March 18, 2023</time></p>

      </footer>

      <section class="page__share">
  
    <h4 class="page__share-title">Share on</h4>
  

  <a href="https://twitter.com/intent/tweet?text=Notes+on+using+git%20http%3A%2F%2Flocalhost%3A4000%2Fnotes-on-git%2F" class="btn btn--twitter" onclick="window.open(this.href, 'window', 'left=20,top=20,width=500,height=500,toolbar=1,resizable=0'); return false;" title="Share on Twitter"><i class="fab fa-fw fa-twitter" aria-hidden="true"></i><span> Twitter</span></a>

  <a href="https://www.facebook.com/sharer/sharer.php?u=http%3A%2F%2Flocalhost%3A4000%2Fnotes-on-git%2F" class="btn btn--facebook" onclick="window.open(this.href, 'window', 'left=20,top=20,width=500,height=500,toolbar=1,resizable=0'); return false;" title="Share on Facebook"><i class="fab fa-fw fa-facebook" aria-hidden="true"></i><span> Facebook</span></a>

  <a href="https://www.linkedin.com/shareArticle?mini=true&url=http%3A%2F%2Flocalhost%3A4000%2Fnotes-on-git%2F" class="btn btn--linkedin" onclick="window.open(this.href, 'window', 'left=20,top=20,width=500,height=500,toolbar=1,resizable=0'); return false;" title="Share on LinkedIn"><i class="fab fa-fw fa-linkedin" aria-hidden="true"></i><span> LinkedIn</span></a>
</section>


      
  <nav class="pagination">
    
      <a href="/merging-feature-branch/" class="pagination--pager" title="Git merging main into an in-progress feature-branch
">Previous</a>
    
    
      <a href="/docker-geemap/" class="pagination--pager" title="Running dockerized google earth engine (GEE) map
">Next</a>
    
  </nav>

    </div>

    
  </article>

  
  
    <div class="page__related">
      <h2 class="page__related-title">You may also enjoy</h2>
      <div class="grid__wrapper">
        
          



<div class="grid__item">
  <article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork">
    
      <div class="archive__item-teaser">
        <img src="/assets/images/sea-ice-office.jpg" alt="">
      </div>
    
    <h2 class="archive__item-title no_toc" itemprop="headline">
      
        <a href="/sea-ice-radar/" rel="permalink">Exploring Nome’s Sea Ice with Satellite and Ground Radar
</a>
      
    </h2>
    

  <p class="page__meta">
    
      
      <span class="page__meta-date">
        <i class="far fa-fw fa-calendar-alt" aria-hidden="true"></i>
        
        <time datetime="2023-04-12T00:00:00-07:00">April 12, 2023</time>
      </span>
    

    <span class="page__meta-sep"></span>

    
      
      

      <span class="page__meta-readtime">
        <i class="far fa-fw fa-clock" aria-hidden="true"></i>
        
          6 minute read
        
      </span>
    
  </p>


    <p class="archive__item-excerpt" itemprop="description">I recently found out about UAF’s sea-ice radar monitor at the end of the pier in Nome’s port.

</p>
  </article>
</div>

        
          



<div class="grid__item">
  <article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork">
    
      <div class="archive__item-teaser">
        <img src="/assets/images/favicon-32x32.png" alt="">
      </div>
    
    <h2 class="archive__item-title no_toc" itemprop="headline">
      
        <a href="/docker-geemap/" rel="permalink">Running dockerized google earth engine (GEE) map
</a>
      
    </h2>
    

  <p class="page__meta">
    
      
      <span class="page__meta-date">
        <i class="far fa-fw fa-calendar-alt" aria-hidden="true"></i>
        
        <time datetime="2023-03-25T00:00:00-07:00">March 25, 2023</time>
      </span>
    

    <span class="page__meta-sep"></span>

    
      
      

      <span class="page__meta-readtime">
        <i class="far fa-fw fa-clock" aria-hidden="true"></i>
        
          1 minute read
        
      </span>
    
  </p>


    <p class="archive__item-excerpt" itemprop="description">The steps I took to open and run a dockerized geemap:

</p>
  </article>
</div>

        
          



<div class="grid__item">
  <article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork">
    
      <div class="archive__item-teaser">
        <img src="/assets/images/favicon-32x32.png" alt="">
      </div>
    
    <h2 class="archive__item-title no_toc" itemprop="headline">
      
        <a href="/merging-feature-branch/" rel="permalink">Git merging main into an in-progress feature-branch
</a>
      
    </h2>
    

  <p class="page__meta">
    
      
      <span class="page__meta-date">
        <i class="far fa-fw fa-calendar-alt" aria-hidden="true"></i>
        
        <time datetime="2023-03-17T00:00:00-07:00">March 17, 2023</time>
      </span>
    

    <span class="page__meta-sep"></span>

    
      
      

      <span class="page__meta-readtime">
        <i class="far fa-fw fa-clock" aria-hidden="true"></i>
        
          3 minute read
        
      </span>
    
  </p>


    <p class="archive__item-excerpt" itemprop="description">In a collaborative (or solo) git project I’m often in a position where I was working on a feature-branch, got busy, stopped working on it, then came back to ...</p>
  </article>
</div>

        
          



<div class="grid__item">
  <article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork">
    
      <div class="archive__item-teaser">
        <img src="/assets/images/favicon-32x32.png" alt="">
      </div>
    
    <h2 class="archive__item-title no_toc" itemprop="headline">
      
        <a href="/ruby-on-rails-with-postgres/" rel="permalink">Setting up Ruby on Rails with PostgreSQL
</a>
      
    </h2>
    

  <p class="page__meta">
    
      
      <span class="page__meta-date">
        <i class="far fa-fw fa-calendar-alt" aria-hidden="true"></i>
        
        <time datetime="2023-02-15T00:00:00-08:00">February 15, 2023</time>
      </span>
    

    <span class="page__meta-sep"></span>

    
      
      

      <span class="page__meta-readtime">
        <i class="far fa-fw fa-clock" aria-hidden="true"></i>
        
          7 minute read
        
      </span>
    
  </p>


    <p class="archive__item-excerpt" itemprop="description">I just spent a long time getting my Windows machine setup with Ruby on Rails and the PostgreSQL database in order to work on some software development. Here ...</p>
  </article>
</div>

        
      </div>
    </div>
  
  
</div>

    </div>

    
      <div class="search-content">
        <div class="search-content__inner-wrap"><form class="search-content__form" onkeydown="return event.key != 'Enter';" role="search">
    <label class="sr-only" for="search">
      Enter your search term...
    </label>
    <input type="search" id="search" class="search-input" tabindex="-1" placeholder="Enter your search term..." />
  </form>
  <div id="results" class="results"></div></div>

      </div>
    

    <div id="footer" class="page__footer">
      <footer>
        <!-- start custom footer snippets -->

<!-- end custom footer snippets -->
        <div class="page__footer-follow">
  <ul class="social-icons">
    
      <li><strong>Follow:</strong></li>
    

    
      
        
      
        
      
        
          <li><a href="https://github.com/bpurinton/bpurinton.github.io" rel="nofollow noopener noreferrer"><i class="fab fa-fw fa-github" aria-hidden="true"></i> GitHub</a></li>
        
      
        
      
        
      
        
      
    

    
      <li><a href="/feed.xml"><i class="fas fa-fw fa-rss-square" aria-hidden="true"></i> Feed</a></li>
    
  </ul>
</div>

<div class="page__footer-copyright">&copy; 2025 Ben Purinton. Powered by <a href="https://jekyllrb.com" rel="nofollow">Jekyll</a> &amp; <a href="https://mademistakes.com/work/minimal-mistakes-jekyll-theme/" rel="nofollow">Minimal Mistakes</a>.</div>

      </footer>
    </div>

    
  <script src="/assets/js/main.min.js"></script>




<script src="/assets/js/lunr/lunr.min.js"></script>
<script src="/assets/js/lunr/lunr-store.js"></script>
<script src="/assets/js/lunr/lunr-en.js"></script>







  </body>
</html>
